<!-- phone-auth.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Firebase OTP Authentication</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
    <script>
        // Your Firebase configuration
        const firebaseConfig = {
  apiKey: "",
  authDomain: "ngo-portal-165f3.firebaseapp.com",
  projectId: "ngo-portal-165f3",
  storageBucket: "ngo-portal-165f3.appspot.com",
  messagingSenderId: "972109409535",
  appId: "1:972109409535:web:0b554f268e472cbbc130ca",
  measurementId: "G-KVN3BVCYYW"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <h1>Firebase OTP Authentication</h1>
    <input type="text" id="phoneNumber" placeholder="Enter phone number" />
    <button onclick="sendOtp()">Send OTP</button>
    <input type="text" id="otp" placeholder="Enter OTP" />
    <button onclick="verifyOtp()">Verify OTP</button>

    <script>
        const auth = firebase.auth();

        function sendOtp() {
            const phoneNumber = document.getElementById('phoneNumber').value;
            const appVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');
            
            auth.signInWithPhoneNumber(phoneNumber, appVerifier)
                .then((confirmationResult) => {
                    window.confirmationResult = confirmationResult;
                    alert('OTP sent');
                })
                .catch((error) => {
                    console.error('Error during signInWithPhoneNumber:', error);
                });
        }

        function verifyOtp() {
            const otp = document.getElementById('otp').value;
            confirmationResult.confirm(otp)
                .then((result) => {
                    const user = result.user;
                    alert('OTP verified successfully');
                })
                .catch((error) => {
                    console.error('Error during OTP verification:', error);
                });
        }
    </script>
    <div id="recaptcha-container"></div>
</body>
</html>
